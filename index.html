<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta charset="utf-8" />
    <script type="module" src="./slides.js"></script>
    <link href="./styles.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="https://fav.farm/üë®‚Äçüíª" />
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.151.3/three.min.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.0/lib/p5.min.js"></script>
    <script type="module" src="./go.ts"></script>
  </head>

  <body>
    <section class="slides layout-regular template-default">
      <article>
        <div id="trunk"></div>
        <h1>Next-Gen<br />Serverside<br />JavaScript!</h1>
      </article>

      <article>
        <h1>
          <mark>Hi, I&apos;m<br />Wes Bos</mark>
        </h1>
        <p class="sub">Hamilton, On üá®üá¶</p>
        <p class="sub">@wesbos on ùïè, gram, tok, tube and suits</p>
      </article>
      <article class="first">
        <div class="columns">
          <div>
            <h2>Web<br />Dev<br />Courses</h2>
          </div>
          <div>+</div>
          <div>
            <img
              src="https://raw.githubusercontent.com/syntaxfm/brand/main/Syntax%20Wordmark%20Stacked%20-%20yellow.svg"
            />
            <p>syntax.fm √ó @syntaxfm √ó sentry</p>
          </div>
        </div>
      </article>

      <article>
        <h1>What is this talk about?</h1>
        <p class="sub">Server Side JavaScript</p>
        <!-- IF you are building an app with server JS, whether its an API, a React App, these are the things you wannt to pay attention to.  -->
      </article>

      <article>
        <h1>JavaScript Runtimes</h1>
        <p>Engines + APIS === Runtime</p>
      </article>

      <article class="browsers">
        <style>
          .browsers img {
            max-width: 100px;
            margin: 0 1rem;
          }
          .browsers p {
            display: grid;
            place-items: center;
            grid-auto-flow: column;
          }
        </style>
        <p>
          V8 ‚Üí <img src="./icons/chrome.svg" /><img
            src="./icons/edge.png"
          /><img src="./icons/chromium.png" />
        </p>
        <p>Spider Monkey ‚Üí <img src="./icons/firefox.png" /></p>
        <p>JavaScriptCore ‚Üí <img src="./icons/safari.png" /></p>
      </article>

      <article>
        <div class="columns">
          <div>
            <img src="./icons/node.png" />
            <h3>Node.js</h3>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/v8.png" alt="" />
        </div>
      </article>

      <article>
        <div class="columns">
          <div>
            <img src="./icons/deno.svg" />
            <h3>Deno</h3>
            <p class="small">[Deno Deploy, Netlify Edge, Supabase Edge]</p>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/v8.png" alt="" />
        </div>
      </article>

      <article>
        <div class="columns">
          <div>
            <img src="./icons/cloudflare.jpg" />
            <h3>Cloudflare<br />Workers</h3>
            <p class="small">[Workerd]</p>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/v8.png" alt="" />
        </div>
      </article>
      <article>
        <div class="columns">
          <div>
            <img src="./icons/bun.svg" />
            <h3>Bun</h3>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/jsc.jpg" alt="" />
        </div>
      </article>

      <article>
        <div class="columns">
          <div>
            <img src="./icons/fastly.png" />
            <h4>Fastly<br />Compute<br />@edge</h4>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/spidermonkey.png" alt="" />
        </div>
      </article>
      <article>
        <div class="columns">
          <div>
            <img src="./icons/alibaba.png" />
            <h4>Alibaba<br />Edge<br />Compute</h4>
          </div>
          <h3>‚Üí</h3>
          <img src="./icons/v8.png" alt="" />
        </div>
      </article>
      <article>
        <div class="columns">
          <div>
            <img
              src="https://avatars.githubusercontent.com/u/3299148?s=248&v=4"
            />
            <h4>llrt</h4>
          </div>
          <h3>‚Üí</h3>
          <img
            src="https://blogger.googleusercontent.com/img/a/AVvXsEjzb7KVdSlhe4cl6D_-bUvhl0FxC_P8LhJVUAS1dGCqz01RL9kpFJHu2Eoeb6KEoIRt1hkaK_cVS3N82ozT5D_ySSRb4k-keTA25LyrwUwR7oQMorS-zPDnBrlmVMHObh7DqnVJUCSZt7-_3kqlYBsBrWDU98IQo_CdpNpr6bmdF7pq-4S9YTjUU24X=w400-h400"
            alt=""
          />
        </div>
        <p>*experimental*</p>
      </article>

      <article>
        <div class="coloumns">
          <img src="./icons/bloomberg.png" />
          <img src="./icons/bytedance.png" />
        </div>
      </article>

      <article>
        <h1>So if my math is correct...</h1>
      </article>

      <article>
        <h2>3 Browser JS Runtimes</h2>
        <div class="grid">
          <img src="./icons/chrome.svg" />
          <img src="./icons/firefox.png" />
          <img src="./icons/safari.png" />
        </div>
      </article>

      <article>
        <h2>6+ Server JS Runtimes</h2>
        <div class="grid">
          <img src="./icons/node.png" />
          <img src="./icons/deno.svg" />
          <img src="./icons/cloudflare.jpg" />
          <img src="./icons/bun.svg" />
          <img src="./icons/fastly.png" />
          <img src="./icons/alibaba.png" />
        </div>
      </article>

      <article>
        <img src="./icons/ie6.jpg" alt="" />
      </article>

      <article>
        <h2>
          The next generation of server JS we write will be
          <mark>standards based</mark>.
        </h2>
      </article>
      <article>
        <h3>
          Yes, run it anywhere, but it also means we have
          <mark>interchangable</mark> + <mark>composable</mark> layers
        </h3>
      </article>

      <article>
        <h1>Should you care?</h1>
        <p>maybe. You should care about the <mark>standards</mark></p>
      </article>

      <article>
        <h1>WHY</h1>
        <p>Why do we have so many runtimes?</p>
      </article>

      <article>
        <h2>Better</h2>
        <ul class="build">
          <li>TS out of the Box</li>
          <li>A push for Standard APIs</li>
          <li>ESM Spec</li>
          <li>Easy wins (dotenv, prompt, JSX, etc..)</li>
          <li>A Joy to work with</li>
        </ul>
      </article>

      <article>
        <h2>Faster</h2>
        <ul class="build">
          <li>"cold starts"</li>
          <li>"Rust"</li>
          <li>"WASM"</li>
          <li>"Async"</li>
        </ul>
      </article>

      <article>
        <h2>Faster - Cheaper?</h2>
        <ul>
          <li>At scale, faster is a lot cheaper</li>
          <li>CPU Time vs Wall Time</li>
        </ul>
        <!-- <p>
          TODO: There has been lots of talk about $5 Servers vs outragous SaaS
          Bills lately.
        </p>
        <p>
          I'm not here to tell you that one type of server is cheaper than
          another. I am here to tell you that at scale, cutting your compute
          down by 20% can mean hundreds of thousands, if not not millions of
          dollars saved.
        </p> -->
      </article>

      <article>
        <h2>Stronger</h2>
        <img src="./icons/security.jpg" />
      </article>

      <article>
        <h1>Server Kinds</h1>
      </article>

      <article>
        <h3>Traditional VM / Long Running Server</h3>
        <ul class="build">
          <li>Always running</li>
          <li>Maintain Memory</li>
          <li>Scaling up via Memory/CPU</li>
          <li>Scaling up via more servers</li>
          <!-- TODO Examples -->
        </ul>
      </article>

      <article>
        <h2>Serverless Functions</h2>
        <ul class="build">
          <li>Only Run in short bursts when needed</li>
          <li>Scale up by running more</li>
          <li>Pay for what you need</li>
        </ul>
        <!-- TODO Examples -->
      </article>

      <article>
        <h2>Edge Functions</h2>
        <ul class="build">
          <li>Run closer to your user</li>
          <li>Can run in-between / intercept requests</li>
          <li><strike>Limited API</strike></li>
          <li>Not 100% node compat (close!)</li>
        </ul>
        <!-- Notes: These lines are blurred.. -->
        <!-- TODO Examples -->
      </article>

      <article>
        <h2>What's a poor dev to do? Support 6+ Runtimes?!</h2>
        <p class="build">well, ya. But also no.</p>
      </article>

      <article>
        <img src="./icons/js.png" alt="" />
      </article>

      <article>
        <h2>Web Standards</h2>
        <div class="grid">
          <div>
            <img
              style="height: 200px; object-fit: contain; width: auto"
              src="./icons/tc39.svg"
              alt=""
            />
            <p>TC39</p>
            <p>Async + Await, esm, const, arrow functions</p>
          </div>
          <div>
            <img
              style="height: 200px; object-fit: contain; width: auto"
              src="./icons/w3c.png"
              alt=""
            />
            <p>W3C</p>
            <p>WebRTC, Streams API, Web Components</p>
          </div>
          <div>
            <img
              style="height: 200px; object-fit: contain; width: auto"
              src="./icons/whatwg.png"
              alt=""
            />
            <p>WHATWG</p>
            <p>Fetch, Service Workers, Resize Observer</p>
          </div>
        </div>
      </article>

      <article>
        <img class="fit" src="./icons/node-fetch.png" alt="" />
      </article>

      <article>
        <img class="fit" src="./icons/fetch-standard.png" alt="" />
      </article>

      <article>
        <img src="./icons/wintergc.png" alt="" />
      </article>

      <article>
        <h2>Browser JS is Server JS</h2>
        <p>JS is JS</p>
        <p>We don't need different ways to do the same thing</p>
        <p>Let's look at some of those standards</p>
      </article>

      <article>
        <h1>Fetch</h1>
        <p>Web Request + Web Response are life</p>
      </article>

      <article>
        <h2>In the Browser, We send Requests</h2>
        <img src="./icons/request.png" alt="" />
      </article>
      <article>
        <h2>On the Server, we handle them!</h2>
        <img src="./icons/req2.png" alt="" />
      </article>

      <article>
        <img src="./ss/server-grid.png" alt="" />
      </article>

      <article>
        <h1>Node</h1>
        <p>Not Native, But:</p>
        <p class="balance">
          Hono.js, H3, @whatwg-node/server, Fastify Plugin, Next.js Routes,
          Sveltekit, Astro + more
        </p>
      </article>

      <article>
        <h1>Web Streams</h1>
        <p>Blow Chunks as you have em</p>
      </article>

      <article>
        <!-- <img class="fit" src="./icons/streams.png" alt="" /> -->
        <video
          style="width: 100%; height: 100%"
          src="./ss/streaming.mp4"
          muted
          autoplay
          playsinline
          loop
        ></video>
      </article>
      <article>
        <img class="fit" src="./icons/abort.png" alt="" />
      </article>

      <article>
        <img class="fit" src="./icons/abort-server.png" alt="" />
      </article>

      <article>
        <img src="./icons/react-streams.png" alt="" />
      </article>

      <article>
        <h1>Events!</h1>
        <p>Listen for events on anything!</p>
      </article>

      <article>
        <img src="./icons/event1.png" alt="" />
      </article>

      <article>
        <img src="./icons/event2.png" alt="" />
        <!-- Node, DEno, vbun -->
        <!-- Cloudflare fetch, scheduled and queue -->
      </article>

      <article>
        <h1>Form Data</h1>
      </article>

      <article>
        <img src="./icons/formData.png" alt="" />
      </article>

      <article>
        <h1>Web Workers</h1>
        <ul class="build">
          <li>Multi Threaded / Parallel</li>
          <li>CPU intensive tasks</li>
          <li>Non-blocking</li>
        </ul>
      </article>

      <!-- <article>
        <h1>Service Workers-ish</h1>
        <p>Intercepting Requests</p>
      </article>

      <article>
        <img src="./icons/stream-replace.png" alt="" />
      </article>

      <article>
        <ul class="build">
          <li>Easy Proxy!</li>
          <li>Add custom CSS to Websites</li>
          <li>Migrate Slowly</li>
        </ul>
      </article> -->

      <article>
        <h1>alert()<br />prompt()<br />confirm()</h1>
      </article>

      <article>
        <img src="./icons/alert.png" alt="" />
      </article>
      <article>
        <img src="./icons/alert-output.png" alt="" />
      </article>

      <!-- <article>
        <h1>Import Protocols</h1>
      </article> -->

      <article>
        <h1>Async<br />Local<br />Storage</h1>
        <p>Really cool new API</p>
      </article>

      <article>
        <img src="./icons/als.png" alt="" />
      </article>

      <article>
        <img src="./icons/ryan-async.png" alt="" />
      </article>

      <article>
        <img src="./icons/async-context.png" alt="" />
      </article>

      <article>
        <h1>Developer Ecosystem</h1>
        <p>The tooling is standardizing on standards</p>
      </article>

      <article>
        <img src="./ss/unjs.png" alt="" class="fit" />
      </article>

      <article>
        <h1>unenv</h1>
      </article>

      <article>
        <img class="fit" src="./ss/unenv-cf.png" alt="" />
      </article>

      <article>
        <img src="./ss/unenv-apis.png" alt="" class="fit" />
      </article>

      <article>
        <p>Deno, Bun, Cloudflare, Node</p>
        <img src="./ss/unenv-deno.png" class="wide" />
      </article>

      <article>
        <img src="./ss/hono.png" alt="" class="fit" />
      </article>

      <article>
        <img src="./ss/nitro.png" class="fit" />
      </article>
      <article>
        <p>Think of these as standards based Express that can run anywhere.</p>
        <p>HMR, Routing, Middlware, Caching, Web Sockets, Assets</p>
      </article>
      <article>
        <img src="./ss/h3.png" alt="" class="fit" />
      </article>

      <article>
        <img src="./ss/srvx.png" alt="" class="fit" />
      </article>

      <article>
        <img src="./ss/vinxi.png" alt="" class="fit" />
      </article>

      <article>
        <h1>Vite + Nitro = Vinxi</h1>
      </article>

      <article>
        <h3>Build your own Framework</h3>
        <p>Any JS LIb + Standard Server = Metaframework</p>
      </article>

      <article>
        <img src="./ss/tanstack.png" alt="" class="fit" />
      </article>
      <article>
        <img src="./ss/solid-start.png" alt="" class="fit" />
      </article>

      <!-- <article>
        <h1>Solid Start / Tanstack Start</h1>
        <p>Solid.js or React Tansack Router + Query</p>
      </article> -->

      <article>
        <ul style="text-align: left">
          <li>‚úÖ Routing</li>
          <li>‚úÖ RPC</li>
          <li>‚úÖ Data Loaders</li>
          <li>‚úÖ Middleware</li>
          <li>‚úÖ API Endpoints</li>
          <li>‚úÖ Server Rendering</li>
          <li>‚úÖ Streaming</li>
          <li>‚úÖ caching</li>
          <li>+ More.</li>
        </ul>
      </article>

      <article>
        <h2>Tanstack Start</h2>
        <p>Client: Vite, Tanstack Query, Tanstack Router</p>
        <p>Server: Vinxi ‚Üí Nitro ‚Üí H3 ‚Üí srvx</p>
      </article>

      <article>
        <h3>import { DOMParser, parseHTML } from 'linkedom/worker';</h3>
        <p>JSDom Alternative. Works everywhere</p>
      </article>

      <article>
        <h1>HTMLRewriter</h1>
        <ul>
          <li>Cloudflare Invented</li>
          <li>Re-implemented everywhere</li>
          <li>Not a standard</li>
        </ul>
      </article>

      <article>
        <img src="./icons/rewriter.png" alt="" />
      </article>

      <!-- <article>
        <img src="./icons/worker-tools.png" alt="" />
        <a href="https://github.com/worker-tools" target="_blank"
          >worker-tools</a
        >
      </article> -->
      <!-- <article>
        <h1>Filesystem</h1>
        <p>No standard FS API</p>
        <p>whatwg/fs maybe?</p>
      </article> -->

      <article>
        <h1>So much more!</h1>
      </article>

      <article>
        <h1>This ins't write once work everywhere</h1>
        <p>At least not yet...</p>
      </article>

      <article>
        <h3>
          It is a set of <mark>standardized APIs</mark> and an
          <mark> ecosystem of tools </mark> that work together
        </h3>
        <!-- <p>Servers ü§ù Browsers</p> -->
      </article>

      <!-- <article>
        <p>
          TODO: Add something here about how each of these standards and each of
          these layers make for a powerful future web
        </p>
      </article> -->
      <article>
        <p>
          <mark>Future Server</mark> JS isn't about making it work everywhere.
        </p>
        <p class="balance">
          It's about <mark>building with standards</mark>, enjoying the huge
          <mark>ecosystem's best tools</mark> and having the choice for it to
          run anywhere.
        </p>
      </article>

      <article>
        <h1>Thanks</h1>
        <p>@wesbos</p>
      </article>
    </section>
  </body>
</html>
